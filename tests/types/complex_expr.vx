module "complex_expr_test";

import "io.vx";

func main() -> i32 {
    // Basic precedence
    var i32 a = 10 + 5 * 2; // 20
    var i32 b = (10 + 5) * 2; // 30
    
    io.print("a: ");
    io.print(a); io.print("\n");
    io.print("b: ");
    io.print(b); io.print("\n");
    
    // Deeply nested
    var i32 c = (1 + 2) * (3 + 4) / ((10 - 8) * 5) + 50 % 7; // 3 * 7 / (2 * 5) + 1 = 21 / 10 + 1 = 2 + 1 = 3
    io.print("c: ");
    io.print(c); io.print("\n");
    
    // Boolean complexity
    var bool d = true && false || true && !false; // false || true && true = true
    var bool e = (true || false) && (false || !true); // true && false = false
    
    io.print("d: ");
    if (d) { io.print(1); } else { io.print(0); }
    io.print("\n");
    io.print("e: ");
    if (e) { io.print(1); } else { io.print(0); }
    io.print("\n");
    
    if (a == 20 && b == 30 && c == 3 && d == true && e == false) {
        io.print("Complex expressions test passed!"); io.print("\n");
        return 0;
    }
    
    io.print("Complex expressions test failed!"); io.print("\n");
    return 1;
}
