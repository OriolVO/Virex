module "result";

import "std/ffi.vx";

public func unwrap<T, E>(result<T, E> r) -> T {
    match r {
        ok(v) => { return v; }
        err(e) => {
             fail "called `unwrap` on an `err` value";
        }
    }
}

public func expect<T, E>(result<T, E> r, u8* msg) -> T {
    match r {
        ok(v) => { return v; }
        err(e) => {
             fail msg;
        }
    }
}
